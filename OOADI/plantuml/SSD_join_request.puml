@startuml
hide footbox
title Join request

actor Client1
participant Server

Client1 -> Server : JOIN:\nAccess token\nChatID
create database Users
Server -> Users: Confirms Access token\nassociated with user
Server -> Users: Request Members linked\nto chatID
Users -> Server: Reply with members
create actor Client2
Server -> Client2: Request encryption key\nfor chatID
Client2 -> Server: Reply ChatID encryption key
Server -> Client1: Send encryption key
Server -> Users: Associate chatID\nwith Client1
@enduml
